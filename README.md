# Мессенджер

## Навигация  
- [Общая информация](#общая-информация)  
- [Подробнее о бэкэнде](#подробнее-о-бэкэнде)

## Общая информация

Первая серьёзная работа. Фронтэнд писал на NextJS, бэкэнд на NestJS, база данных - PostgreSQL. Вся логика приложения и на фронте и на бэке продумана мной. Такой стек выбран по совету, как естественное продолжение после изучения React и TypeScript.
<br/><br/>Упор был сделан именно на функционал и механики.
<br/></br>*Всё что хотел реализовать не успел, выгорел.*
<br/>*Об отсутствующих важных функциях напишу ниже.*

**Фронтэнд часть** - [репозиторий](https://github.com/Lexan4uk/Messenger-frontend-next).  
**Бэкэнд часть** - тут.

## Подробнее о бэкэнде

Мой первый опыт в написании адекватного бэкэнда. Раньше так-сяк только на C# делал, сам не понимая что творю. Тут у меня была идея, был референс, и со временем пришло и понимание.

Так как проект не дописан, есть несколько проблем:

Под конец проекта я решил зарефакторить весь бэкэнд, потому что пока я его делать узнал много нового, имел работающие механики и знал как их улучшить, параллельно с этим я оформлял модули для работы со Swagger. Не успел - модуль Chats, модуль Auth.
</br>Никакой безопасности, проверок на доступы нет. Я получил представление как это можно делать поздно, когда уже лень было этим заниматься.


### Архитектура и структура
- Полностью модульная архитектура с отдельными сервисами, контроллерами и DTO для каждого модуля
- Чистая структура кода с соблюдением принципов SOLID и использованием внедрения зависимостей
- Полная типизация с использованием TypeScript по всему проекту

### Аутентификация и безопасность
- Аутентификация на основе JWT с access- и refresh-токенами
- Обработка refresh-токенов через куки
- Хэширование паролей с использованием Argon2

### Работа в реальном времени
- Интеграция WebSocket через Socket.IO для прогрузки сообщений в реальном времени
- Управление чат-комнатами (вход/выход)

### Возможности чат-системы
- Поддержка как приватных (DM), так и групповых чатов
- Система приглашений для участия в чатах
- Роли пользователей в чатах: admin, user, banned (баны не реализованы, только кики)
- Скрытие чатов вместо удаления
- Прогрузка сообщений пачками.

### База данных
- База данных PostgreSQL и ORM Prisma

### Документация API
- Интеграция Swagger для автогенерации документации
- Детализированные валидации DTO через class-validator

### Особенности разработки
- Validation Pipes для валидации входящих данных
- Кастомные декораторы для доступа к данным пользователя

### Технологический стек
- NestJS как основной backend-фреймворк
- PostgreSQL как СУБД
- Prisma в роли ORM
- Socket.IO для функций реального времени
- JWT для аутентификации
- Swagger для документации API

